<!-- <div class="chat-live">
  <nav  style="background-color:aliceblue ; ">
  <div class="container">


    Collapsible Nav Links
    <div style="background-color:aliceblue ; padding: 15px; width: 100;">
      <ul class="navbar-nav ms-auto align-items-center" style="gap:40px ;display: flex; flex-direction: row; justify-content: center;">
        <li class="nav-item " >
          <a routerLink="/chat" class="nav-link fw-bold text-white p-2" style="cursor: pointer; background-color: #0066CC;  border-radius: 5px;">Chat with us</a>
        </li>
        <li class="nav-item" *ngIf="!isInstructorLogged && isAdminLogged && !isStudentLogged">
        <li class="nav-item " >
          <a routerLink="/meeting" class="nav-link fw-bold text-white p-2" style="cursor: pointer; background-color: #0066CC; border-radius: 5px;">Live Lecture</a>
        </li>

      </ul>
    </div>
  </div>
</nav>
</div> -->



<div class="main-container" *ngIf="lessonData" >
  <main class="main-content" style="min-height: 100vh;">
    <div style="background-color: #fff; border-radius: 10px; padding: 29px;">
      <h1 class="content-title">{{ lessonData.title }}</h1>

      <!-- <div class="content-header">
        <button class="expand-btn">
          <i class="fas fa-expand-alt"></i>
        </button>
      </div> -->

      <!-- <div class="video-container"> -->
        <!-- <div class="video-player">
          <div class="video-thumbnail"> -->
            <div class="mx-auto text-center my-5">
          <video  [src]="lessonData.videoUrl" controls class="w-100 "></video>
        </div>
            <!-- <span>{{ lessonData.title }}</span>
            <button class="play-btn">
              <i class="fas fa-play"></i>
            </button> -->
          <!-- </div>
        </div> -->
      <!-- </div> -->

      <div class="tab-navigation">
        <ul class="nav nav-tabs">
          <li class="nav-item">
            <button class="nav-link" [ngClass]="{active: currentTab === 'overview'}" (click)="setTab('overview')">Overview</button>
          </li>
          <li class="nav-item">
            <button class="nav-link" [ngClass]="{active: currentTab === 'lessons'}" (click)="setTab('lessons')">
              <i class="fas fa-list ms-1"></i> Lessons
            </button>
          </li>
          <li class="nav-item">
            <button class="nav-link" [ngClass]="{active: currentTab === 'questions'}" (click)="setTab('questions')">
              <i class="fas fa-question-circle me-1"></i> Quiz
            </button>
          </li>
          <li class="nav-item">
            <button class="nav-link" [ngClass]="{active: currentTab === 'Assigment'}" (click)="setTab('Assigment')">
              <i class="fas fa-question-circle me-1"></i> Assignment
            </button>
          </li>
        </ul>
      </div>

      <div class="tab-content-area">
        <div class="tab-content-panel" *ngIf="currentTab === 'overview'">
          <div class="tab-content-inner">
            <p>{{ lessonData.description }}</p>
          </div>
        </div>
        <div class="tab-content-panel" *ngIf="currentTab === 'lessons'">
          <div class="tab-content-inner">
            <p class="fw-bold fs-3">Download Your Resources</p>
          </div>
          <div class="text-center">
          <button (click)="onDownload()" class="btn btn-primary mt-3" *ngIf="lessonData.pdfUrl">Download PDF</button></div>
        </div>
        <div class="tab-content-panel" *ngIf="currentTab === 'questions'">
         <div class=" w-100 mx-auto  px-5 rounded  "  >
  <form [formGroup]="quizForm" (ngSubmit)="submitQuiz()" #resultPdf>
  <div *ngFor="let q of questions" class="mt-5 p-4 rounded bg-white">
    <h3 class="text-lg font-semibold mb-2">{{ q.content }}</h3>
    <div *ngFor="let option of q.options">
      <label class="flex items-center space-x-2">
        <input type="radio" [formControlName]="q.id.toString()" [value]="option.id.toString()" />
        <span>{{ option.name }}</span>
      </label>
    </div>

    <span
      *ngIf="submitted && quizForm.controls[q.id.toString()]"
      [ngClass]="{
        'text-green-600': quizForm.controls[q.id.toString()].value === getCorrectOptionId(q),
        'text-red-600': quizForm.controls[q.id.toString()].value !== getCorrectOptionId(q)
      }"
      class="text-sm font-medium"
    >
      Correct Answer: {{ getCorrectOptionName(q) }}
    </span>
  </div>

  <div class="mt-3 d-flex align-items-center">
    <button type="submit" class="btn btn-light me-2">Submit Quiz</button>
    <button type="button" (click)="resetQuiz()" class="btn btn-light">Reset</button>

    <div *ngIf="submitted" style="display: block;">
      <h2 class="text-xl font-bold">
        Your Score: {{ score }} / {{ totalMarks }}
      </h2>
    </div>
  </div>
</form>

<button
  (click)="downloadPDF()"
  class="btn mx-auto mt-4"
  style="background-color: #0066CC; color: aliceblue;"
>
  Download PDF
</button>

          </div>
        </div>
        <div class="tab-content-panel" *ngIf="currentTab === 'Assigment'">
          <div class=""  >
 <h1 class="my-5 mx-auto">Download your Assigment From Here</h1>
<button (click)="onDownload()" style="background-color: #0066CC; color: aliceblue;" class="btn  mt-4">Download PDF</button>
</div>
        </div>
      </div>
    </div>
  </main>
</div>

<div *ngIf="!lessonData">
  <p>Loading lesson details or no lesson selected.</p>
</div>
